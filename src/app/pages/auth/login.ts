import { Component } from '@angular/core';
import { FormsModule } from '@angular/forms';
import { Router, RouterModule } from '@angular/router';
import { ButtonModule } from 'primeng/button';
import { CheckboxModule } from 'primeng/checkbox';
import { InputTextModule } from 'primeng/inputtext';
import { PasswordModule } from 'primeng/password';
import { RippleModule } from 'primeng/ripple';
import { AppFloatingConfigurator } from '../../layout/component/app.floatingconfigurator';
import { AuthService } from './auth.service';
import { Toast } from 'primeng/toast';
import { MessagesService } from '../../layout/service/messages.service';
import { UserService } from '../users/user.service';
import { UserGlobalService } from '../service/user.service';

@Component({
    selector: 'app-login',
    standalone: true,
    providers:[MessagesService],
    imports: [ButtonModule, CheckboxModule, InputTextModule, PasswordModule, FormsModule, RouterModule, RippleModule, AppFloatingConfigurator, Toast],
    template: `
        <app-floating-configurator />
        <p-toast/>
        <div
            class="bg-surface-50 dark:bg-surface-950 flex items-center justify-center min-h-screen min-w-[100vw] overflow-hidden">
            <div class="flex flex-col items-center justify-center">
                <div
                    style="border-radius: 56px; padding: 0.3rem; background: linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)">
                    <div class="w-full bg-surface-0 dark:bg-surface-900 py-20 px-8 sm:px-20"
                         style="border-radius: 53px">
                        <div class="text-center flex flex-col items-center justify-center align-middle mb-8">
                            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                                 width="128.000000pt" height="76.000000pt" viewBox="0 0 1280.000000 760.000000"
                                 preserveAspectRatio="xMidYMid meet">

                                <g transform="translate(0.000000,760.000000) scale(0.100000,-0.100000)"
                                   fill="#000000" stroke="none">
                                    <path d="M3260 7583 c-145 -22 -227 -36 -234 -41 -5 -3 40 -16 100 -30 233
-52 429 -133 524 -219 31 -28 61 -69 81 -109 29 -58 32 -76 33 -152 2 -165 1
-167 -136 -304 l-121 -120 59 -59 58 -59 -314 -318 c-173 -174 -507 -510 -741
-747 -234 -236 -653 -659 -932 -940 -278 -280 -504 -512 -502 -514 2 -2 131
-3 287 -2 l283 1 209 212 c114 117 560 569 990 1003 429 435 826 836 880 892
l99 102 41 -25 c87 -54 70 -57 239 54 l153 102 94 0 c79 0 104 -4 145 -24 106
-50 130 -103 127 -283 l-2 -131 67 -56 c37 -31 70 -56 73 -56 3 0 124 119 270
265 l265 265 -74 70 -73 70 -63 -12 c-48 -8 -77 -8 -121 0 -161 33 -236 148
-250 382 l-7 110 -88 99 c-289 325 -629 517 -1012 570 -73 10 -350 13 -407 4z"/>
                                    <path d="M9735 6809 c-71 -16 -203 -46 -292 -66 l-163 -36 -177 -190 c-98
-105 -248 -266 -333 -357 -85 -92 -274 -294 -420 -450 -146 -156 -335 -358
-420 -450 -85 -91 -300 -322 -477 -512 -178 -191 -323 -350 -323 -355 0 -4 90
-98 201 -208 l200 -200 44 50 c24 28 110 131 192 231 81 99 229 279 329 400
99 120 360 437 579 704 219 267 429 521 465 565 37 44 176 213 310 375 133
162 279 339 324 394 98 119 111 136 100 135 -5 0 -67 -14 -139 -30z"/>
                                    <path d="M9995 6763 c-26 -43 -61 -99 -76 -124 -16 -25 -29 -49 -29 -53 0 -4
80 -112 178 -241 97 -128 286 -376 419 -551 133 -176 387 -510 565 -745 178
-234 424 -558 548 -721 124 -163 226 -295 228 -293 2 1 -37 66 -87 143 -80
125 -1045 1639 -1211 1902 -37 58 -110 173 -163 255 -52 83 -146 230 -208 328
-62 97 -113 177 -115 177 -1 0 -23 -35 -49 -77z"/>
                                    <path d="M8325 6494 l-370 -84 -225 -223 c-124 -122 -337 -332 -475 -467 -137
-134 -359 -352 -493 -484 l-243 -239 193 -194 c106 -106 196 -193 200 -193 6
0 418 444 1104 1190 22 25 130 142 239 260 110 118 249 269 309 335 61 66 123
135 140 153 26 28 27 32 10 31 -10 -1 -185 -39 -389 -85z"/>
                                    <path d="M7220 6245 c-52 -12 -205 -47 -340 -76 -289 -64 -219 -17 -604 -397
l-269 -264 150 -150 150 -150 204 208 c112 115 285 292 384 394 99 102 241
247 315 323 74 75 128 137 120 136 -8 0 -58 -11 -110 -24z"/>
                                    <path d="M5860 5941 c-113 -26 -211 -49 -218 -52 -7 -2 23 -39 72 -88 l85 -84
88 81 c111 102 200 192 188 191 -6 -1 -102 -23 -215 -48z"/>
                                    <path d="M5281 5816 c-73 -73 -132 -138 -130 -144 2 -5 148 -158 324 -339 419
-429 916 -941 1140 -1175 l180 -186 310 -1 310 -1 -990 990 c-544 545 -995
990 -1000 990 -6 0 -70 -60 -144 -134z"/>
                                    <path d="M3785 5768 c-110 -116 -262 -275 -519 -543 -132 -137 -342 -356 -465
-485 -227 -236 -382 -397 -608 -632 -68 -70 -123 -129 -123 -132 0 -4 52 -6
115 -6 l116 0 864 862 c476 474 865 865 864 868 0 4 -101 86 -158 128 -16 11
-26 3 -86 -60z"/>
                                    <path d="M9440 5645 l0 -165 165 0 165 0 0 165 0 165 -165 0 -165 0 0 -165z"/>
                                    <path d="M9890 5645 l0 -165 165 0 165 0 -2 163 -3 162 -162 3 -163 2 0 -165z"/>
                                    <path d="M9440 5175 l0 -165 165 0 165 0 0 165 0 165 -165 0 -165 0 0 -165z"/>
                                    <path d="M9890 5175 l0 -165 165 0 165 0 0 165 0 165 -165 0 -165 0 0 -165z"/>
                                    <path d="M3954 5067 c-2 -7 -3 -85 -2 -172 l3 -160 173 -3 172 -2 0 175 0 175
-170 0 c-130 0 -172 -3 -176 -13z"/>
                                    <path d="M4390 4905 l0 -175 170 0 170 0 0 175 0 175 -170 0 -170 0 0 -175z"/>
                                    <path d="M3957 4604 c-4 -4 -7 -83 -7 -176 l0 -168 175 0 175 0 -2 173 -3 172
-166 3 c-91 1 -168 -1 -172 -4z"/>
                                    <path d="M4397 4604 c-4 -4 -7 -83 -7 -176 l0 -168 170 0 170 0 -2 173 -3 172
-161 3 c-88 1 -163 -1 -167 -4z"/>
                                    <path d="M4776 3433 c-250 -53 -437 -228 -501 -468 -22 -82 -22 -225 0 -301
53 -185 184 -314 378 -372 67 -20 104 -24 207 -25 210 0 340 45 462 163 37 36
68 70 68 77 0 6 -64 57 -142 112 l-141 102 -36 -35 c-126 -121 -304 -108 -373
27 -29 57 -29 164 -1 228 50 113 146 174 263 167 55 -3 74 -9 105 -32 20 -16
46 -44 57 -62 11 -19 25 -34 30 -34 13 0 320 130 332 141 16 14 -45 119 -104
180 -64 65 -163 118 -258 138 -73 15 -263 12 -346 -6z"/>
                                    <path d="M8806 3373 c-24 -38 -113 -176 -198 -308 -235 -365 -356 -554 -430
-670 l-67 -105 219 0 219 0 43 73 44 72 211 3 211 2 17 -75 16 -75 214 0 c198
0 213 1 209 18 -2 9 -27 114 -55 232 -147 624 -179 761 -195 828 l-18 72 -198
0 -198 0 -44 -67z m183 -518 c31 -159 39 -145 -85 -145 -58 0 -104 4 -102 8
16 39 154 260 159 254 3 -4 16 -56 28 -117z"/>
                                    <path d="M690 3373 c-7 -32 -36 -177 -67 -323 -30 -146 -74 -364 -98 -486 -24
-121 -47 -233 -51 -248 l-7 -27 429 3 c368 4 438 7 489 21 199 57 298 171 282
324 -10 94 -79 179 -172 210 l-30 10 66 30 c69 32 127 82 156 136 13 23 18 55
18 117 0 74 -3 91 -27 131 -47 79 -140 129 -282 148 -42 6 -216 11 -386 11
l-309 0 -11 -57z m600 -248 c39 -20 49 -59 23 -93 -29 -39 -74 -51 -201 -51
-103 -1 -113 1 -108 17 3 9 10 45 17 80 l12 62 114 0 c82 0 122 -4 143 -15z
m-55 -410 c44 -43 24 -101 -41 -125 -14 -6 -82 -10 -151 -10 -125 0 -125 0
-120 23 3 12 11 48 17 80 l11 57 130 0 c125 0 131 -1 154 -25z"/>
                                    <path d="M1920 3427 c0 -5 -216 -1077 -225 -1115 l-5 -22 517 2 517 3 28 135
c15 74 27 143 28 153 0 16 -21 17 -315 17 -192 0 -315 4 -315 10 0 5 5 32 11
60 l11 50 294 0 c162 0 294 2 294 4 0 2 11 58 25 126 14 68 25 129 25 136 0
12 -52 14 -291 14 l-291 0 6 23 c3 12 9 39 12 60 l7 37 313 0 c289 0 313 1
318 18 9 27 56 263 56 278 0 12 -86 14 -510 14 -280 0 -510 -1 -510 -3z"/>
                                    <path d="M3076 3422 c-2 -4 -23 -100 -45 -212 -22 -113 -72 -359 -111 -548
-38 -189 -70 -350 -70 -358 0 -12 29 -14 197 -12 l198 3 54 273 c30 149 58
272 61 272 5 0 201 -332 309 -522 l15 -28 181 0 181 0 32 163 c18 89 70 345
116 570 l83 407 -198 0 c-180 0 -198 -2 -203 -17 -2 -10 -26 -121 -51 -248
-26 -126 -50 -239 -54 -249 -6 -16 -21 4 -78 100 -78 133 -186 319 -217 376
l-21 38 -187 0 c-103 0 -189 -3 -192 -8z"/>
                                    <path d="M5592 3122 c-35 -169 -86 -417 -113 -552 -28 -135 -53 -253 -55 -263
-5 -16 7 -17 197 -15 l203 3 41 200 41 200 174 3 c95 1 177 -1 182 -6 6 -6
-37 -254 -67 -379 l-5 -23 199 0 c182 0 200 2 205 18 7 24 71 333 96 467 12
61 46 226 76 368 30 141 54 264 54 272 0 13 -29 15 -198 15 l-198 0 -38 -182
c-20 -101 -40 -191 -42 -200 -5 -16 -23 -18 -188 -18 l-184 0 39 183 c21 100
38 190 39 200 0 16 -16 17 -197 17 l-198 0 -63 -308z"/>
                                    <path d="M6896 3143 c-52 -263 -158 -776 -171 -830 l-5 -23 197 0 198 0 54
268 c29 147 57 270 60 274 4 4 49 -80 100 -187 52 -108 97 -194 101 -193 6 3
220 241 307 343 24 28 43 43 43 34 0 -8 -22 -127 -50 -264 -27 -137 -50 -255
-50 -262 0 -11 39 -13 198 -11 l197 3 47 235 c26 129 75 366 108 525 33 160
63 309 66 333 l7 42 -219 0 -219 0 -165 -195 c-91 -107 -168 -195 -171 -195
-6 0 -42 78 -155 338 l-23 52 -199 0 -198 0 -58 -287z"/>
                                    <path d="M9780 3425 c0 -2 -14 -70 -31 -152 -33 -162 -199 -977 -199 -980 0
-2 90 -3 199 -3 l199 0 16 73 c9 39 24 110 33 157 l18 85 50 3 50 3 80 -161
80 -160 212 0 c117 0 213 3 213 7 0 3 -41 85 -90 181 -50 96 -89 180 -87 186
3 6 26 19 53 29 102 36 199 136 225 230 15 54 15 170 -1 227 -39 145 -175 241
-383 269 -75 11 -637 16 -637 6z m564 -329 c90 -38 86 -140 -7 -185 -36 -18
-62 -21 -156 -21 -102 0 -112 2 -107 18 2 9 12 55 21 102 10 47 19 88 22 93 8
13 192 8 227 -7z"/>
                                    <path d="M10957 3203 c-25 -126 -76 -374 -112 -553 -36 -179 -68 -333 -71
-343 -5 -16 7 -17 197 -15 l203 3 20 100 21 100 74 78 c71 74 91 89 91 67 0
-6 37 -87 82 -180 l81 -170 213 0 213 0 -96 198 c-52 108 -119 247 -148 309
l-53 111 232 239 c127 132 240 249 250 261 l19 22 -244 0 -244 -1 -175 -195
c-96 -108 -176 -191 -178 -186 -2 6 13 88 32 182 20 94 36 177 36 185 0 13
-30 15 -199 15 l-198 0 -46 -227z"/>
                                    <path d="M5397 1926 c-67 -18 -126 -63 -162 -120 -24 -40 -30 -62 -33 -120 -3
-63 0 -77 25 -126 29 -55 51 -76 203 -187 106 -79 133 -140 90 -210 -26 -43
-68 -63 -130 -63 -63 0 -117 26 -159 77 l-31 38 0 -107 0 -106 48 -19 c63 -24
207 -24 278 0 111 38 188 145 187 261 0 114 -41 174 -198 291 -131 98 -135
103 -142 154 -5 36 -2 44 30 76 62 62 154 49 240 -33 l37 -36 0 102 0 103 -37
16 c-52 21 -186 26 -246 9z"/>
                                    <path d="M105 1879 c35 -208 35 -676 -1 -866 l-6 -33 138 0 c254 0 378 50 428
172 19 44 21 131 5 179 -21 61 -80 124 -134 142 -5 2 8 19 29 38 110 96 101
264 -18 346 -69 47 -103 55 -285 60 l-164 5 8 -43z m289 -108 c115 -65 79
-226 -57 -248 l-37 -6 0 141 0 142 33 -6 c17 -4 45 -14 61 -23z m-19 -352
c109 -31 167 -141 115 -223 -24 -40 -81 -72 -142 -81 l-48 -7 0 161 c0 180 -4
172 75 150z"/>
                                    <path d="M1987 1900 c-43 -10 -80 -19 -81 -21 -2 -2 2 -38 10 -79 25 -142 17
-711 -11 -801 -6 -18 0 -19 100 -19 97 0 106 2 101 18 -21 69 -26 142 -25 417
0 280 6 405 25 479 8 32 -4 32 -119 6z"/>
                                    <path d="M2717 1900 c-43 -10 -80 -19 -81 -21 -2 -2 2 -38 10 -79 7 -41 13
-91 14 -111 l0 -36 -78 -6 c-162 -11 -275 -109 -318 -277 -30 -118 -4 -261 59
-328 44 -47 96 -67 181 -67 l78 0 39 45 39 45 0 -42 0 -43 91 0 c84 0 90 1 84
19 -35 113 -35 811 1 905 8 21 -15 20 -119 -4z m-79 -386 c21 -15 22 -21 22
-193 0 -141 -3 -181 -14 -190 -26 -22 -73 -29 -118 -19 -89 20 -123 86 -116
230 5 104 22 149 66 172 36 20 131 20 160 0z"/>
                                    <path d="M6687 1900 c-43 -10 -80 -20 -82 -22 -3 -2 0 -20 7 -39 16 -48 23
-665 9 -757 -6 -39 -14 -77 -17 -86 -5 -14 7 -16 101 -16 97 0 106 2 101 18
-36 114 -37 752 -1 895 9 33 -2 33 -118 7z"/>
                                    <path d="M10934 1903 c20 -70 26 -175 26 -458 0 -285 -6 -384 -26 -448 -5 -16
9 -17 241 -15 l247 3 44 103 c24 57 44 105 44 107 0 2 -35 -9 -78 -25 -87 -32
-213 -60 -267 -60 l-35 0 0 338 c1 311 4 367 25 445 l7 27 -117 0 c-106 0
-116 -2 -111 -17z"/>
                                    <path d="M12565 1904 c-33 -8 -69 -16 -81 -19 -20 -4 -20 -7 -8 -77 7 -40 13
-91 14 -114 l0 -41 -78 -6 c-122 -8 -209 -64 -280 -178 -53 -86 -66 -252 -28
-344 45 -106 110 -149 230 -149 l78 -1 39 44 39 44 0 -42 0 -41 91 0 91 0 -7
28 c-20 80 -25 163 -25 432 1 272 7 381 25 453 6 24 5 27 -16 26 -13 -1 -51
-7 -84 -15z m-97 -390 c21 -15 22 -20 22 -198 l0 -184 -32 -13 c-74 -31 -159
-2 -193 66 -16 32 -20 60 -20 140 0 112 18 165 64 190 36 19 131 19 159 -1z"/>
                                    <path d="M1593 1895 c-12 -8 -27 -31 -33 -49 -26 -81 28 -164 99 -152 53 8 81
45 81 107 0 42 -5 55 -29 80 -33 33 -82 39 -118 14z"/>
                                    <path d="M3036 1885 c-43 -46 -40 -130 5 -171 33 -30 96 -25 125 9 35 40 34
114 -2 156 -34 41 -93 44 -128 6z"/>
                                    <path d="M8185 1884 c-28 -30 -33 -54 -24 -109 10 -55 50 -89 98 -81 53 8 81
45 81 106 0 68 -35 110 -91 110 -30 0 -46 -6 -64 -26z"/>
                                    <path d="M7748 1665 c-65 -70 -118 -132 -118 -136 0 -5 20 -9 44 -9 l45 0 3
-222 c3 -242 7 -262 61 -302 24 -17 43 -21 110 -20 45 0 91 5 103 12 12 6 34
42 52 86 l30 76 -38 -20 c-49 -25 -132 -27 -151 -3 -11 12 -15 63 -17 205 l-4
188 76 0 76 0 0 60 0 60 -75 0 -74 0 -3 76 -3 77 -117 -128z"/>
                                    <path d="M11688 1664 c-65 -70 -118 -132 -118 -136 0 -4 20 -8 44 -8 l44 0 4
-222 c3 -241 9 -269 62 -303 34 -22 113 -29 178 -16 56 12 57 13 77 64 10 29
24 64 30 80 l11 27 -39 -20 c-64 -32 -141 -28 -156 8 -4 9 -10 99 -13 200 l-5
182 77 0 76 0 1 30 c1 17 1 39 1 50 0 11 0 24 -1 30 0 5 -34 10 -73 12 l-73 3
-5 74 -5 74 -117 -129z"/>
                                    <path d="M3643 1644 c-12 -3 -40 -25 -61 -50 -22 -24 -42 -44 -46 -44 -3 0 -6
20 -6 45 l0 45 -91 0 c-81 0 -90 -2 -85 -17 34 -111 35 -517 1 -624 -6 -18 0
-19 100 -19 l107 0 -7 28 c-17 67 -25 158 -25 303 l0 155 40 23 c58 33 117 31
148 -4 23 -28 23 -28 19 -244 -2 -119 -7 -226 -11 -238 -8 -23 -8 -23 94 -23
l102 0 -7 28 c-14 54 -24 210 -25 357 0 136 -2 155 -22 195 -13 25 -37 53 -56
63 -32 19 -126 30 -169 21z"/>
                                    <path d="M4226 1636 c-90 -33 -144 -107 -153 -205 -5 -51 -2 -68 20 -113 15
-29 40 -62 57 -73 16 -11 29 -23 27 -26 -1 -4 -26 -25 -54 -48 -50 -39 -58
-53 -54 -91 3 -21 49 -60 72 -60 29 0 23 -12 -26 -58 -38 -35 -45 -47 -45 -80
0 -72 62 -101 216 -102 123 0 191 18 244 66 92 84 91 221 -3 271 -24 13 -60
17 -147 18 -111 2 -150 8 -150 25 0 18 30 28 97 32 60 3 79 9 115 34 23 16 56
49 73 73 27 39 30 50 30 122 l-1 79 43 0 c46 0 44 -3 57 78 l6 32 -101 0 c-73
0 -109 4 -132 16 -43 23 -143 28 -191 10z m139 -130 c58 -58 53 -163 -11 -193
-31 -15 -37 -15 -69 0 -43 21 -66 56 -72 112 -5 39 -2 47 25 75 39 39 92 41
127 6z m55 -509 c18 -9 25 -21 25 -42 0 -43 -50 -68 -126 -62 -73 6 -99 20
-99 54 0 48 25 63 104 63 39 0 82 -6 96 -13z"/>
                                    <path d="M6062 1631 c-65 -22 -116 -62 -159 -125 -44 -64 -57 -115 -57 -216 0
-105 26 -171 89 -229 73 -68 118 -85 215 -85 76 -1 91 3 140 29 117 64 187
203 178 349 -6 90 -35 154 -99 218 -75 75 -194 98 -307 59z m162 -134 c83 -64
112 -215 62 -323 -28 -61 -58 -84 -106 -84 -96 0 -180 117 -180 252 0 71 19
120 62 160 29 27 38 30 80 26 30 -3 59 -14 82 -31z"/>
                                    <path d="M8703 1631 c-65 -22 -114 -59 -153 -116 -48 -70 -63 -120 -64 -220 0
-79 3 -97 27 -147 30 -62 83 -115 149 -150 35 -18 59 -22 128 -22 73 0 93 4
136 27 62 32 117 92 152 167 22 47 26 69 26 155 1 90 -2 106 -27 157 -69 140
-223 202 -374 149z m163 -136 c100 -76 115 -279 28 -371 -53 -57 -131 -43
-193 35 -81 102 -83 258 -4 337 33 34 39 36 84 32 32 -3 60 -14 85 -33z"/>
                                    <path d="M9533 1644 c-12 -3 -40 -25 -61 -50 -22 -24 -42 -44 -46 -44 -3 0 -6
20 -6 45 l0 45 -91 0 -91 0 7 -27 c34 -134 34 -493 -1 -610 -6 -23 -6 -23 101
-23 l107 0 -7 28 c-18 73 -25 150 -25 298 l0 160 40 23 c52 29 115 30 142 3
11 -11 23 -37 27 -58 8 -46 -3 -399 -14 -431 -7 -23 -7 -23 95 -23 l102 0 -7
28 c-14 57 -25 203 -25 352 0 141 -2 160 -22 200 -13 25 -37 53 -56 63 -32 19
-126 30 -169 21z"/>
                                    <path d="M10089 1637 c-89 -34 -139 -99 -139 -182 0 -67 21 -106 86 -161 142
-121 152 -138 113 -188 -14 -18 -30 -26 -50 -26 -41 0 -65 14 -121 68 l-48 46
0 -97 c0 -97 0 -98 28 -109 15 -6 70 -11 122 -12 75 -1 102 3 130 18 79 42
113 94 113 172 0 68 -25 108 -117 185 -107 91 -126 129 -85 170 34 34 100 22
150 -27 l39 -38 0 82 c0 81 -1 83 -27 93 -46 18 -154 21 -194 6z"/>
                                    <path d="M835 1608 c3 -18 10 -143 13 -278 5 -164 11 -252 19 -266 36 -63 122
-100 207 -90 40 4 57 13 91 46 22 22 44 40 48 40 4 0 7 -18 7 -40 l0 -40 86 0
86 0 -9 53 c-11 68 -10 498 1 560 l8 47 -101 0 c-55 0 -101 -1 -101 -3 0 -1 7
-34 15 -72 10 -46 15 -129 15 -246 l0 -175 -39 -22 c-44 -25 -116 -29 -144 -8
-10 8 -22 29 -27 47 -16 53 -12 324 5 404 8 38 15 71 15 72 0 2 -46 3 -101 3
l-101 0 7 -32z"/>
                                    <path d="M1557 1593 c11 -63 10 -516 0 -570 l-9 -43 102 0 102 0 -7 28 c-34
136 -34 470 0 605 l7 27 -102 0 -101 0 8 -47z"/>
                                    <path d="M3006 1603 c5 -21 9 -153 9 -293 0 -140 -4 -272 -9 -292 l-8 -38 102
0 102 0 -9 33 c-11 43 -10 541 1 590 l8 37 -102 0 -102 0 8 -37z"/>
                                    <path d="M6955 1613 c19 -76 25 -155 25 -334 0 -187 1 -198 23 -229 28 -43 71
-68 130 -76 75 -10 110 1 161 54 l46 47 0 -47 0 -48 91 0 91 0 -7 28 c-29 112
-35 440 -10 557 8 38 15 71 15 72 0 2 -48 3 -106 3 -96 0 -105 -2 -100 -17 20
-66 26 -130 26 -295 l0 -188 -40 -20 c-52 -26 -110 -26 -144 1 l-27 22 4 221
c2 121 8 233 12 249 l7 27 -102 0 -102 0 7 -27z"/>
                                    <path d="M8156 1603 c5 -21 9 -153 9 -293 0 -140 -4 -272 -9 -292 l-8 -38 102
0 102 0 -9 33 c-11 43 -10 541 1 590 l8 37 -102 0 -102 0 8 -37z"/>
                                    <path d="M4125 449 c-38 -22 -64 -52 -71 -81 -3 -18 -14 -33 -25 -35 -23 -6
-25 -23 -3 -23 10 0 14 -6 10 -17 -3 -10 -15 -56 -27 -103 -33 -130 -54 -161
-87 -128 -10 10 -15 10 -22 -2 -16 -25 -12 -30 26 -30 73 0 101 39 144 198 20
73 25 82 46 82 12 0 26 5 29 10 4 6 -5 10 -19 10 -31 0 -32 11 -6 68 21 46 43
54 60 21 7 -11 14 -18 17 -15 3 3 13 -5 23 -17 15 -18 20 -19 34 -8 20 17 21
50 1 57 -8 4 -22 0 -31 -7 -14 -11 -15 -10 -12 7 2 15 -3 19 -32 21 -19 2 -44
-2 -55 -8z"/>
                                    <path d="M4661 443 c-29 -11 -39 -18 -30 -23 10 -7 11 -18 3 -47 -7 -31 -13
-38 -34 -38 -75 -2 -140 -72 -140 -151 0 -70 38 -84 89 -33 l31 30 -6 -30 c-4
-21 -3 -31 5 -31 18 0 66 27 82 46 13 15 12 16 -10 9 -22 -7 -23 -5 -16 27 6
30 62 200 80 241 9 20 4 20 -54 0z m-55 -148 c8 -19 -35 -105 -58 -119 -43
-26 -47 57 -6 109 22 28 56 33 64 10z"/>
                                    <path d="M9692 443 c-35 -12 -40 -17 -28 -27 12 -9 9 -29 -25 -140 -42 -138
-45 -156 -29 -156 18 0 65 27 81 46 12 15 12 16 -9 10 -21 -7 -22 -5 -16 21 4
15 24 79 45 140 22 62 39 115 39 118 0 7 -7 5 -58 -12z"/>
                                    <path d="M4943 435 c-61 -26 -72 -93 -22 -141 77 -73 77 -154 0 -154 -34 0
-48 15 -53 55 -4 42 -21 33 -34 -20 l-12 -45 37 -10 c20 -5 46 -10 58 -10 40
0 99 30 116 59 28 48 22 76 -33 136 -27 30 -50 64 -50 74 0 27 24 43 62 39 29
-3 33 -7 36 -35 5 -51 24 -44 36 13 7 29 4 33 -25 43 -42 14 -77 13 -116 -4z"/>
                                    <path d="M8925 431 c-50 -22 -109 -86 -125 -135 -6 -20 -10 -59 -8 -86 1 -28
0 -50 -4 -50 -20 0 -5 -19 23 -29 17 -6 52 -26 78 -45 82 -58 85 -59 135 -34
51 24 53 41 3 26 -28 -9 -42 -7 -83 12 l-49 23 35 7 c78 15 137 68 166 147 48
135 -43 223 -171 164z m97 -28 c39 -35 8 -181 -51 -237 -34 -33 -78 -37 -98
-10 -32 43 -1 179 54 236 30 32 67 36 95 11z"/>
                                    <path d="M2660 430 c0 -5 10 -10 21 -10 19 0 21 -4 16 -34 -3 -18 -19 -79 -37
-135 -26 -86 -35 -104 -58 -114 -24 -11 -19 -12 53 -15 110 -4 155 4 209 39
101 64 129 221 47 264 -35 18 -251 22 -251 5z m214 -43 c15 -18 17 -33 13 -79
-8 -92 -54 -150 -128 -162 -63 -11 -65 -2 -24 135 20 68 42 127 48 132 20 13
71 -2 91 -26z"/>
                                    <path d="M3048 415 c-9 -20 -9 -28 1 -38 17 -17 46 4 46 34 0 34 -32 37 -47 4z"/>
                                    <path d="M3938 415 c-9 -20 -9 -28 1 -38 17 -17 46 4 46 34 0 34 -32 37 -47 4z"/>
                                    <path d="M5772 428 c-14 -14 -16 -44 -3 -52 26 -17 60 26 40 50 -14 17 -22 17
-37 2z"/>
                                    <path d="M6655 430 c3 -5 13 -10 21 -10 20 0 18 -29 -12 -131 -26 -90 -25
-118 3 -151 20 -23 90 -32 128 -18 56 21 74 49 112 173 30 97 41 121 60 128
37 14 27 19 -37 19 -33 0 -60 -4 -60 -10 0 -5 6 -10 14 -10 27 0 26 -17 -4
-121 -33 -112 -60 -149 -106 -149 -71 0 -80 41 -35 180 20 65 31 86 46 88 11
2 24 8 30 13 5 5 -26 9 -79 9 -55 0 -85 -4 -81 -10z"/>
                                    <path d="M8142 428 c-15 -15 -16 -45 -2 -53 16 -10 41 16 38 38 -4 25 -20 31
-36 15z"/>
                                    <path d="M9828 415 c-9 -20 -9 -28 1 -38 17 -17 46 4 46 34 0 34 -32 37 -47 4z"/>
                                    <path d="M9947 355 c-26 -24 -42 -45 -35 -47 9 -3 6 -24 -10 -79 -27 -90 -28
-109 -4 -109 21 0 92 47 92 60 0 6 -9 5 -20 -2 -30 -19 -33 -6 -13 66 16 61
19 66 45 66 15 0 28 5 28 10 0 6 -10 10 -21 10 -19 0 -20 4 -15 35 4 19 6 35
4 35 -2 -1 -24 -20 -51 -45z"/>
                                    <path d="M3023 314 c-41 -24 -60 -50 -28 -38 20 8 19 3 -10 -79 -14 -38 -23
-72 -21 -75 10 -9 51 8 81 33 26 23 27 25 8 20 -29 -8 -29 4 -2 74 11 30 19
62 17 72 -3 17 -6 17 -45 -7z"/>
                                    <path d="M3138 314 c-42 -30 -49 -45 -18 -37 19 5 20 0 20 -76 0 -60 3 -81 13
-81 13 0 71 57 120 118 28 34 35 76 17 87 -17 11 -41 -16 -34 -37 6 -19 -32
-88 -48 -88 -5 0 -8 24 -8 53 0 29 -6 61 -12 70 -12 16 -16 15 -50 -9z"/>
                                    <path d="M3415 329 c-58 -17 -107 -83 -107 -146 0 -65 40 -80 113 -43 44 23
45 44 0 27 -37 -14 -61 -3 -61 27 0 19 6 25 35 30 41 8 95 51 95 75 0 19 -19
41 -34 40 -6 0 -25 -5 -41 -10z m25 -31 c0 -16 -41 -58 -57 -58 -21 0 -15 29
12 56 24 24 45 25 45 2z"/>
                                    <path d="M3551 310 c-45 -33 -52 -45 -21 -35 25 8 25 13 -5 -75 -14 -40 -25
-75 -25 -77 0 -2 13 -3 28 -3 25 0 31 6 40 38 15 51 70 125 86 119 19 -7 41
42 26 57 -9 8 -22 -1 -52 -34 -40 -44 -43 -42 -21 16 9 25 -16 22 -56 -6z"/>
                                    <path d="M3755 333 c-30 -7 -55 -33 -55 -57 0 -12 16 -41 35 -65 27 -34 33
-47 24 -57 -16 -20 -36 -17 -60 7 -24 24 -28 22 -31 -12 -3 -22 1 -24 43 -27
91 -6 128 62 68 127 -30 33 -35 61 -12 68 6 2 20 -6 31 -17 l20 -22 12 21 c9
18 7 22 -15 31 -28 11 -28 11 -60 3z"/>
                                    <path d="M3940 331 c-45 -18 -98 -71 -55 -55 20 8 19 3 -10 -79 -14 -38 -23
-72 -21 -75 10 -9 51 8 81 33 26 23 27 25 8 20 -29 -8 -29 4 -2 74 22 60 22
92 -1 82z"/>
                                    <path d="M4193 313 c-42 -27 -58 -48 -28 -37 20 8 19 -3 -10 -80 -22 -57 -23
-67 -10 -72 9 -4 33 6 55 20 44 29 51 41 20 31 -25 -8 -25 -2 0 71 12 32 19
67 18 77 -3 16 -7 15 -45 -10z"/>
                                    <path d="M4364 321 c-49 -22 -84 -68 -91 -120 -7 -53 10 -81 49 -81 31 0 98
34 98 51 0 12 -17 12 -25 -1 -3 -5 -19 -10 -36 -10 -25 0 -29 4 -29 28 0 23 7
30 52 47 65 25 95 67 64 91 -25 18 -32 18 -82 -5z m34 -28 c-3 -27 -50 -65
-63 -51 -9 8 21 65 37 71 25 10 29 7 26 -20z"/>
                                    <path d="M5194 329 c-72 -21 -132 -126 -102 -179 18 -33 63 -37 106 -10 40 25
42 42 3 27 -36 -13 -61 -4 -61 25 0 19 9 26 47 38 56 18 93 61 77 88 -13 21
-29 23 -70 11z m26 -34 c0 -14 -46 -55 -61 -55 -18 0 -8 32 16 56 25 25 45 25
45 -1z"/>
                                    <path d="M5421 324 c-12 -9 -32 -30 -43 -48 -19 -30 -20 -30 -14 -4 3 14 9 33
12 42 10 27 -29 19 -66 -14 -29 -25 -31 -30 -12 -25 12 4 22 5 22 2 0 -2 -11
-37 -25 -77 -14 -40 -25 -75 -25 -77 0 -2 13 -3 28 -3 25 0 31 6 40 38 15 51
70 125 86 119 16 -6 41 42 29 54 -5 5 -19 2 -32 -7z"/>
                                    <path d="M5507 313 c-41 -29 -48 -44 -17 -36 19 5 20 0 20 -76 0 -61 3 -81 13
-81 13 0 62 48 120 118 27 34 36 76 17 87 -18 11 -40 -15 -34 -40 4 -17 -3
-32 -25 -56 l-30 -34 -2 35 c-2 60 -8 93 -16 101 -5 5 -25 -3 -46 -18z"/>
                                    <path d="M5745 321 c-17 -10 -37 -26 -45 -36 -14 -17 -13 -18 3 -12 23 9 22
-9 -3 -73 -11 -28 -20 -57 -20 -65 0 -25 34 -17 70 15 31 27 32 30 11 24 -21
-5 -23 -4 -16 12 29 72 46 137 38 145 -5 5 -21 1 -38 -10z"/>
                                    <path d="M5904 321 c-49 -23 -86 -77 -88 -130 -2 -75 58 -96 116 -40 23 21 27
29 13 23 -11 -4 -31 -7 -45 -8 -21 -1 -25 4 -28 31 -4 36 29 107 54 117 19 7
44 -10 44 -30 0 -24 18 -15 24 12 8 31 8 31 -24 38 -15 4 -42 -2 -66 -13z"/>
                                    <path d="M6103 329 c-69 -20 -128 -117 -107 -177 12 -35 65 -41 112 -12 40 25
42 42 3 27 -36 -13 -61 -4 -61 25 0 19 9 26 47 38 56 18 93 61 77 88 -14 21
-29 23 -71 11z m25 -27 c5 -15 -43 -62 -63 -62 -13 0 -14 4 -4 23 27 51 57 69
67 39z"/>
                                    <path d="M6255 333 c-30 -7 -55 -33 -55 -57 0 -12 16 -41 35 -65 27 -34 33
-47 24 -57 -16 -20 -36 -17 -60 7 -24 24 -28 22 -31 -12 -3 -22 1 -24 43 -27
34 -2 52 2 72 18 36 29 35 66 -4 113 -43 52 -25 94 20 46 l19 -21 12 21 c9 18
7 22 -15 31 -28 11 -28 11 -60 3z"/>
                                    <path d="M7004 321 c-16 -10 -36 -26 -44 -36 -14 -17 -13 -18 3 -12 22 8 22
-6 -3 -78 -25 -73 -25 -75 4 -75 20 0 27 8 41 50 17 50 84 135 92 115 2 -6 -8
-43 -21 -82 -13 -39 -22 -74 -18 -77 13 -13 40 -4 72 24 31 27 32 30 11 24
-18 -5 -23 -3 -19 8 3 8 14 42 23 77 27 94 -2 104 -84 27 -33 -30 -33 -30 -26
-6 4 14 10 30 12 36 8 21 -13 23 -43 5z"/>
                                    <path d="M7223 305 c-29 -27 -33 -35 -17 -30 18 5 22 0 28 -26 3 -17 6 -53 6
-80 0 -27 4 -49 9 -49 5 0 39 32 75 71 54 59 66 77 66 105 0 22 -5 34 -14 34
-20 0 -37 -25 -30 -43 6 -17 -31 -87 -47 -87 -5 0 -9 26 -9 59 0 82 -17 94
-67 46z"/>
                                    <path d="M7497 326 c-21 -8 -47 -22 -57 -31 -40 -36 -61 -114 -44 -159 10 -25
45 -19 79 14 l32 31 -5 -31 c-5 -37 9 -39 55 -7 34 23 44 41 18 31 -21 -8 -19
20 5 91 16 46 17 60 8 67 -18 11 -47 9 -91 -6z m39 -21 c8 -19 -41 -124 -61
-131 -46 -18 -38 73 10 122 28 27 43 30 51 9z"/>
                                    <path d="M7771 318 c-12 -13 -28 -32 -37 -43 -15 -20 -15 -17 0 33 11 33 -22
29 -64 -8 -29 -25 -31 -30 -12 -25 12 4 22 5 22 2 0 -2 -11 -37 -25 -77 -14
-40 -25 -75 -25 -77 0 -2 12 -3 28 -3 24 0 30 6 45 50 20 56 64 113 82 106 14
-5 38 40 30 55 -9 14 -21 11 -44 -13z"/>
                                    <path d="M7857 315 c-40 -28 -49 -46 -18 -38 21 5 28 -22 33 -121 2 -42 -1
-52 -26 -73 -19 -16 -35 -22 -48 -17 -13 4 -24 1 -29 -7 -15 -23 -10 -29 24
-29 27 0 43 12 108 80 84 89 134 169 124 200 -8 24 -28 26 -45 5 -10 -12 -10
-18 0 -29 9 -12 8 -22 -5 -50 -9 -19 -23 -40 -30 -46 -14 -12 -16 -8 -29 94
-7 55 -16 59 -59 31z"/>
                                    <path d="M8115 321 c-17 -10 -37 -26 -45 -36 -14 -17 -13 -18 3 -12 22 8 22
-5 -3 -71 -11 -29 -20 -59 -20 -67 0 -24 33 -17 70 15 29 25 31 30 13 25 -13
-4 -23 -4 -23 -1 0 3 12 37 26 77 14 40 22 75 17 80 -5 5 -22 1 -38 -10z"/>
                                    <path d="M8231 310 c-45 -33 -52 -45 -21 -35 11 3 20 5 20 3 0 -2 -11 -38 -24
-80 l-24 -78 26 0 c24 0 30 7 45 51 19 53 70 119 83 106 4 -4 -2 -39 -15 -78
-12 -39 -20 -73 -17 -76 10 -10 51 6 81 32 l30 25 -27 -6 -27 -6 26 77 c16 49
22 80 16 86 -14 14 -54 -4 -92 -42 l-32 -32 6 35 c9 49 -5 53 -54 18z"/>
                                    <path d="M8523 333 c-61 -11 -98 -105 -53 -136 19 -14 19 -14 -5 -37 -14 -13
-24 -29 -21 -36 2 -6 -11 -18 -30 -27 -65 -31 -27 -67 72 -67 81 0 134 33 118
74 -3 8 -28 24 -55 36 -56 24 -59 41 -8 51 42 9 79 51 79 89 0 15 6 30 13 33
6 2 10 6 7 9 -8 8 -92 15 -117 11z m40 -27 c8 -20 -10 -81 -28 -96 -21 -17
-35 -4 -35 33 0 54 48 102 63 63z m-13 -238 c0 -5 -12 -13 -26 -18 -51 -20
-109 17 -70 45 14 11 25 10 57 -3 21 -8 39 -19 39 -24z"/>
                                    <path d="M9162 310 c-46 -33 -53 -45 -21 -37 16 4 19 2 14 -11 -19 -43 -42
-128 -38 -134 10 -18 52 -5 91 27 l41 36 -11 -31 c-5 -17 -8 -34 -5 -37 11
-10 51 6 82 32 26 23 27 25 8 20 -29 -8 -29 3 -2 84 11 35 18 65 15 68 -3 3
-15 3 -28 0 -16 -4 -28 -20 -40 -54 -17 -47 -72 -113 -84 -101 -3 4 5 38 17
77 29 89 20 104 -39 61z"/>
                                    <path d="M9474 330 c-71 -22 -131 -129 -105 -186 14 -31 42 -31 81 2 l31 27
-7 -27 c-9 -37 22 -35 66 4 29 25 31 30 13 25 -29 -8 -29 -1 2 82 13 37 23 69
21 71 -9 9 -75 10 -102 2z m38 -40 c-6 -48 -46 -115 -69 -118 -19 -3 -23 1
-23 22 0 13 5 37 11 53 24 64 88 98 81 43z"/>
                                    <path d="M9803 314 c-41 -24 -60 -50 -28 -38 19 8 19 11 -10 -76 -14 -40 -25
-75 -25 -77 0 -10 37 0 66 18 38 23 45 40 14 32 -20 -5 -20 -4 5 63 14 38 24
76 23 86 -3 16 -7 15 -45 -8z"/>
                                    <path d="M10058 309 c-32 -24 -36 -39 -9 -32 21 5 28 -22 33 -121 2 -42 -1
-52 -26 -73 -19 -16 -35 -22 -48 -17 -18 5 -37 -8 -38 -27 0 -18 43 -15 72 5
42 28 161 166 182 211 26 54 0 101 -33 61 -9 -11 -9 -19 0 -34 11 -17 9 -27
-16 -63 -25 -39 -29 -41 -36 -24 -4 11 -8 36 -8 55 -2 82 -22 97 -73 59z"/>
                                    <path d="M20 275 l0 -35 1185 0 1185 0 0 35 0 35 -1185 0 -1185 0 0 -35z"/>
                                    <path d="M10410 275 l0 -35 1185 0 1185 0 0 35 0 35 -1185 0 -1185 0 0 -35z"/>
                                    <path d="M6365 169 c-19 -20 -19 -21 -2 -34 16 -11 17 -17 7 -37 -7 -13 -19
-31 -28 -41 -24 -27 -6 -32 29 -7 40 29 62 80 49 115 -11 30 -28 31 -55 4z"/>
                                </g>
                            </svg>

                           <br>
                            <span class="text-muted-color font-medium">Sign in to continue</span>
                        </div>

                        <div>
                            <label for="email1"
                                   class="block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2">Username</label>
                            <input pInputText id="email1" type="text" placeholder="Email address"
                                   class="w-full md:w-[30rem] mb-8" [(ngModel)]="username" />

                            <label for="password1"
                                   class="block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2">Password</label>
                            <p-password id="password1" [(ngModel)]="password" placeholder="Password" [toggleMask]="true"
                                        styleClass="mb-4" [fluid]="true" [feedback]="false"></p-password>

                            <div class="flex items-center justify-between mt-2 mb-8 gap-8">
                                <div class="flex items-center">
<!--                                    <p-checkbox [(ngModel)]="checked" id="rememberme1" binary class="mr-2"></p-checkbox>-->
<!--                                    <label for="rememberme1">Remember me</label>-->
                                </div>
                                <span class="font-medium no-underline ml-2 text-right cursor-pointer text-primary">Forgot password?</span>
                            </div>
                            <p-button label="Sign In" (onClick)="login()" styleClass="w-full" routerLink="/"></p-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `
})
export class Login {
    username: string = '';
    password: string = '';
    checked: boolean = false;
    constructor(private authService: AuthService, private router: Router, private messagesService: MessagesService, private userGlobalService: UserGlobalService) {

    }

    login() {
        this.authService
            .login({username: this.username, password: this.password})
            .subscribe( {
                next:(response: any)=>{
                    this.authService.saveToken(response.token);
                    this.messagesService.showSuccess('Logged in successfully!');
                    if (response.token) {
                        console.log('success >>> ');
                        this.userGlobalService.fetchUserDetails()

                    }

                    this.router.navigate(['/app']);
                },
                    error:(err)=>{
                    this.messagesService.showError('Invalid credentials, please try again.');
                }
            })

    }
}
